<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!--Send Mail Button -->
    <record id="hr_payslip_view_form" model="ir.ui.view">
        <field name="name">hr.payslip.view.form.inherit.mrp.workorder</field>
        <field name="model">hr.payslip</field>
        <field name="inherit_id" ref="om_hr_payroll.view_hr_payslip_form"/>
        <field name="arch" type="xml">

            <xpath expr="//button[@name='action_send_email']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>

            <xpath expr="//button[3]" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>

            <xpath expr='//button[@name="action_payslip_done"]' position='after'>
                <button string="Send Mail"
                        name="action_payslip_send"
                        type="object"
                        class="oe_highlight"
                        groups="om_hr_payroll.group_hr_payroll_manager"/>
            </xpath>

            <xpath expr='//button[@name="refund_sheet"]' position='replace'>
                <button string="Refund" name="refund_sheet" invisible="state not in ['confirm', 'done']" type='object'
                        groups="om_hr_payroll.group_hr_payroll_manager"/>
            </xpath>

            <xpath expr="//sheet/group[1]" position="replace">
                <group col="4">
                    <group style="width:50%;">
                        <label for="date_from" string="Period"/>
                        <div>
                            <div class="o_row o_row_readonly">
                                <field name="date_from" class="oe_inline"/>
                                <span class="oe_inline" style="margin-left: -26px;">
                                    -
                                </span>
                                <field name="date_to" class="oe_inline"/>
                            </div>
                        </div>
                        <field name="number"/>
                        <field name="name" style="width=25%"/>
                    </group>
                    <group style="width:50%;">
                        <field name="contract_id"
                               domain="[('employee_id','=',employee_id),('date_start','&lt;=',date_to),'|',('date_end','&gt;=',date_from),('date_end','=',False)]"
                               context="{'default_employee_id': employee_id}"/>
                        <field name="struct_id" required="contract_id != False"/>
                        <field name="credit_note"/>
                    </group>
                </group>
            </xpath>

        </field>
    </record>

</odoo>