<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="nearest_store_email_template" model="mail.template">
        <field name="name">Nearest Store Notification</field>
        <field name="model_id" ref="crm.model_crm_lead"/>

        <!-- Send mail to store -->
        <field name="email_to">{{ ctx.get('store_email') }}</field>
        <field name="email_from">${(user.email_formatted if user else 'noreply@example.com')}</field>

        <field name="subject">
            New Lead Assigned - {{ object.name }}
        </field>

        <field name="body_html" type="html">

<table border="0" cellpadding="0" cellspacing="0" width="600" style="background:#fff; margin:0 auto; border-collapse:collapse;">
    <tr>
        <td style="padding:20px; font-size:14px;">

            <p>Hello <t t-out="ctx.get('store_name')"/> Team,</p>

            <p>A new lead has been assigned to your store.</p>

            <h3 style="color:#005bac; margin-top:10px;">Lead Details</h3>
            <p>
                <strong>Name:</strong>
                <t t-out="object.name or 'N/A'"/><br/>

                <strong>Phone:</strong>
                <t t-out="object.phone or 'N/A'"/><br/>

                <strong>Email:</strong>
                <t t-out="object.email_from or 'N/A'"/><br/>

                <strong>Lead Type:</strong>
                <t t-out="object.lead_type_id.name or 'N/A'"/>
            </p>

<!--            <t t-if="object.partner_latitude and object.partner_longitude">-->
<!--                <p>-->
<!--                    <strong>Location:</strong><br/>-->
<!--                    Latitude: <t t-out="object.partner_latitude"/> |-->
<!--                    Longitude: <t t-out="object.partner_longitude"/>-->
<!--                </p>-->
<!--            </t>-->

<!--            <p>Please reach out to the customer as soon as possible.</p>-->

            <hr style="margin:20px 0; border-top:1px solid #ddd;"/>

            <p>Regards,<br/>
            <strong><t t-out="user.company_id.name"/></strong></p>
        </td>
    </tr>
</table>

        </field>

        <field name="auto_delete" eval="True"/>
        <field name="lang">{{ object.partner_id.lang or 'en_US' }}</field>
    </record>
</odoo>
