<odoo>
    <template id="report_item_receipt">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="doc">
                <div class="page" style="font-family:Arial; font-size:12px;">

                    <!-- Top left Date -->
                    <div style="display: flex; justify-content: space-between; align-items: center; width: 100%; position: relative; font-size: 10px; margin-bottom: 5px;">
                        <!-- Left-aligned date -->
                        <div style="flex: 1; text-align: left;">
                            <span t-esc="context_timestamp(datetime.datetime.now()).strftime('%d/%m/%Y, %H:%M')"/>
                        </div>
                        <!-- Center-aligned voucher using absolute centering -->
                    </div>

                    <!-- Main Container -->
                    <div style="border:3px solid #000; padding:10px;">
                        <!-- Header Section -->
                        <div style="width:100%;">
                            <div style="width:65%; float:left;">
                                <div style="text-align:left; font-weight:bold; font-size:14px; text-decoration: underline;">
                                    Customer Inward Challan
                                </div>
                                <div style="text-align:left;">
                                    <t t-esc="doc.company_id.name or ''"/>
                                </div>
                            </div>
                            <div style="width:35%; float:right;">
                                <div style="border:1px solid #000; padding:5px;">
                                    <div style="text-align:center; font-weight:normal;">
                                        <t t-esc="doc.department_id.name or ''"/>
                                    </div>
                                    <table style="width:100%; font-size:11px;">
                                        <tr>
                                            <td style="width:50%;">
                                                <strong>Complain No.:</strong>
                                                <span t-esc="doc.sequence_fsm or ''"/>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td colspan="2">
                                                <strong>Date :</strong>
                                                <span t-esc="context_timestamp(datetime.datetime.now()).strftime('%d/%m/%Y')"/>
                                            </td>
                                        </tr>
                                    </table>
                                </div>

                            </div>
                            <div style="clear:both;"></div>
                        </div>

                        <!-- Service Type Section -->
                        <div style="margin-top:15px; width:100%;">
                            <div style="width:48%; float:left;">
                                <div>Service</div>
                            </div>
                            <div style="width:48%; float:right; text-align:right;">
                                <div>
                                    <strong>Service Type</strong>
                                </div>
                                <t t-esc="doc.unit_status or ''"/>
                            </div>
                            <div style="clear:both;"></div>
                        </div>

                        <!-- Customer Info -->
                        <div style="margin-top:10px; width:100%;">
                            <div>
                                <strong>Customer Name :</strong>
                                <span t-esc="doc.partner_id.name or ''"/>
                            </div>
                            <div>
                                <strong>Contact Number :</strong>
                                <t t-esc="doc.partner_id.phone or ''"/>
                                <t t-if="doc.partner_id.mobile">/
                                    <t t-esc="doc.partner_id.mobile"/>
                                </t>
                            </div>
                        </div>

                        <!-- Details Table -->
                        <table width="100%" style="border-collapse:collapse; font-size:12px; margin-top:15px;">
                            <tr>
                                <td width="15%" style="border:1px solid #000; padding:4px; font-weight:bold;">ITEM(S)
                                </td>
                                <td width="45%" style="border:1px solid #000; padding:4px;">
                                    <t t-esc="doc.customer_product_id.display_name or ''"/>
                                </td>
                                <td width="15%" style="border:1px solid #000; padding:4px; font-weight:bold;">Model</td>
                                <td width="25%" style="border:1px solid #000; padding:4px;">
                                    <t t-esc="doc.customer_product_id.product_model or ''"/>
                                </td>
                            </tr>
                            <tr>
                                <td style="border:1px solid #000; padding:4px; font-weight:bold;">S.N.</td>
                                <td style="border:1px solid #000; padding:4px;">
                                    <t t-foreach="doc.serial_number" t-as="sn">
                                        <span t-esc="sn.name"/>
                                    </t>
                                </td>
                                <td style="border:1px solid #000; padding:4px; font-weight:bold;">Brand</td>
                                <td style="border:1px solid #000; padding:4px;">
                                    <t t-esc="doc.customer_product_id.product_brand or ''"/>
                                </td>
                            </tr>
                            <tr>
                                <td style="border:1px solid #000; padding:4px; font-weight:bold;">PROBLEM</td>
                                <td colspan="3" style="border:1px solid #000; padding:4px;">
                                    <t t-esc="doc.name or ''"/>
                                </td>
                            </tr>
                            <tr>
                                <td style="border:1px solid #000; padding:4px; font-weight:bold;">WARRANTY</td>
                                <td style="border:1px solid #000; padding:4px;">
                                    <t t-esc="doc.unit_status or ''"/>
                                </td>
                                <td style="border:1px solid #000; padding:4px; font-weight:bold;">Amount</td>
                                <td style="border:1px solid #000; padding:4px;">
                                    <t t-if="doc.service_charge_ids">
                                        <t t-set="total_amount"
                                           t-value="sum([charge.amount for charge in doc.service_charge_ids])"/>
                                        <t t-esc="'%.2f' % total_amount"/>
                                    </t>
                                    <t t-if="not doc.service_charge_ids">
                                        <t t-esc="'0.00'"/>
                                    </t>
                                </td>
                            </tr>
                            <tr>
                                <td style="border:1px solid #000; padding:4px; font-weight:bold;">REMARK</td>
                                <td colspan="3" style="border:1px solid #000; padding:4px;">
                                    <t t-esc="doc.description or ''"/>
                                </td>
                            </tr>

                            <!-- Dynamic Fields Section Start -->

                            <t t-if="doc.dynamic_field_values">
                                <t t-foreach="doc.dynamic_field_values.items()" t-as="pair">
                                    <tr>
                                        <td style="border:1px solid #000; padding:4px; font-weight:bold;" colspan="1">
                                            <t t-esc="pair[0]"/>
                                        </td>
                                        <td style="border:1px solid #000; padding:4px;" colspan="3">
                                            <t t-esc="pair[1]"/>
                                        </td>
                                    </tr>
                                </t>
                            </t>
                            <!-- Dynamic Fields Section End -->
                        </table>

                        <!-- Signature Section -->
                        <div style="margin-top:15px; width:100%; position:relative; min-height:60px;">
                            <div style="width:60%; float:left;">
                                <div><strong>Received By :</strong>___________________
                                </div>
                                <div style="margin-top:5px;"><strong>Receiver's Signature :</strong>___________________
                                </div>
                            </div>
                            <div style="width:40%; float:right; text-align:right;">
                                <div style="margin-top:5px;">
                                    <strong>Estimate Date :</strong>
                                    <t t-esc="doc.date_deadline and context_timestamp(doc.date_deadline).strftime('%d/%m/%Y %H:%M') or '___________________'"/>
                                </div>
                                <div style="margin-top:20px;">
                                    <strong>For,</strong>
                                    <br/>
                                    <strong>
                                        <t t-esc="doc.company_id.name or ''"/>
                                    </strong>
                                </div>
                            </div>
                            <div style="clear:both;"></div>
                        </div>

                    </div>

                    <!-- Footer Note -->
                    <div style="margin-top:5px; font-size:10px;">
                        <strong>For Call Status Say Complain No.</strong>
                        <br/>
                        <strong>Note :</strong>Customers are requested to collect the peripheral within 15 days from the
                        date of Estimate.
                        <br/>
                        After 1 month we are not responsible for your peripheral.
                    </div>
                </div>
            </t>
        </t>
    </template>

    <record id="paperformat_no_margin" model="report.paperformat">
        <field name="name">No Margin</field>
        <field name="default" eval="False"/>
        <field name="format">A4</field>
        <field name="page_height">0</field>
        <field name="page_width">0</field>
        <field name="orientation">Portrait</field>
        <field name="margin_top">10</field>
        <field name="margin_bottom">10</field>
        <field name="margin_left">10</field>
        <field name="margin_right">10</field>
        <field name="header_line" eval="False"/>
        <field name="dpi">90</field>
    </record>

    <record id="action_report_item_receipt" model="ir.actions.report">
        <field name="name">Item Receipt</field>
        <field name="model">project.task</field>
        <field name="report_type">qweb-pdf</field>
        <field name="report_name">industry_fsm_sale.report_item_receipt</field>
        <field name="report_file">industry_fsm_sale.report_item_receipt</field>
        <field name="binding_model_id" ref="model_project_task"/>
        <field name="binding_type">report</field>
        <field name="print_report_name">'%s - %s' % (object.sequence_fsm, object.partner_id.name)</field>
        <field name="paperformat_id" ref="industry_fsm_sale.paperformat_no_margin"/>
    </record>
</odoo>